<div class="container py-5">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2>Mis Citas MÃ©dicas</h2>
    <a routerLink="/citas/nueva" class="btn btn-primary">
      <i class="bi bi-plus-lg me-2"></i>Agendar Nueva
    </a>
  </div>

  <div class="table-responsive shadow-sm rounded">
    <table class="table table-hover align-middle mb-0 bg-white">
      <thead class="bg-light">
        <tr>
          <th>Fecha/Hora</th>
          <th>Servicio</th>
          <th>Sede</th>
          <th>Estado</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let cita of citas">
          <td>
            <div class="fw-bold">{{cita.fechaCita | date:'dd/MM/yyyy'}}</div>
            <div class="small text-muted">{{cita.horaCita}}</div>
          </td>
          <td>{{cita.tipoServicio.nombreServicio}}</td>
          <td>{{cita.sucursal.nombreSucursal}}</td>
          <td>
            <span class="badge rounded-pill" [ngClass]="getClassEstado(cita.estadoCita)">
              {{cita.estadoCita}}
            </span>
          </td>
          <td>
            <button *ngIf="cita.estadoCita === 'PROGRAMADA' || cita.estadoCita === 'CONFIRMADA'" 
                    class="btn btn-sm btn-outline-danger" 
                    (click)="cancelar(cita.idCita)">
              Cancelar
            </button>
          </td>
        </tr>
        <tr *ngIf="citas.length === 0">
          <td colspan="5" class="text-center py-4">No tienes citas registradas.</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>